# -*- coding: utf-8 -*-
import random
import scrapy
from paFJ.items import PafjItem  # 使用item


class AnjuSpider(scrapy.Spider):

    # 输入 你要爬取的 城市名称
    targetCity = '齐齐哈尔' #           沧州 保定 张家口 石家庄 衡水 邢台 邯郸  德州 聊城 滨州 东营 淄博 潍坊 烟台 威海  日照 临沂 枣庄 济宁 菏泽


    name = 'anju'  # spider的名称，影响不大
    allowed_domains = ['anjuke.com']  # 允许爬取的域，为空则是允许当前spider爬取所有的域名
    cityDataSource = {'鞍山': 'https://anshan.anjuke.com/community/p1/', '安阳': 'https://anyang.anjuke.com/community/p1/', '安庆': 'https://anqing.anjuke.com/community/p1/', '安康': 'https://ankang.anjuke.com/community/p1/', '安顺': 'https://anshun.anjuke.com/community/p1/', '阿坝': 'https://aba.anjuke.com/community/p1/', '阿克苏': 'https://akesu.anjuke.com/community/p1/', '阿里': 'https://ali.anjuke.com/community/p1/', '阿拉尔': 'https://alaer.anjuke.com/community/p1/', '阿拉善盟': 'https://alashanmeng.anjuke.com/community/p1/', '澳门': 'https://aomen.anjuke.com/community/p1/', '安丘': 'https://weifang.anjuke.com/community/p1/', '安宁': 'https://km.anjuke.com/community/p1/', '北京': 'https://beijing.anjuke.com/community/p1/', '保定': 'https://baoding.anjuke.com/community/p1/', '包头': 'https://baotou.anjuke.com/community/p1/', '滨州': 'https://binzhou.anjuke.com/community/p1/', '宝鸡': 'https://baoji.anjuke.com/community/p1/', '蚌埠': 'https://bengbu.anjuke.com/community/p1/', '本溪': 'https://benxi.anjuke.com/community/p1/', '北海': 'https://beihai.anjuke.com/community/p1/', '巴音郭楞': 'https://bayinguoleng.anjuke.com/community/p1/', '巴中': 'https://bazhong.anjuke.com/community/p1/', '巴彦淖尔市': 'https://bayannaoer.anjuke.com/community/p1/', '亳州': 'https://bozhou.anjuke.com/community/p1/', '白银': 'https://baiyin.anjuke.com/community/p1/', '白城': 'https://baicheng.anjuke.com/community/p1/', '百色': 'https://baise.anjuke.com/community/p1/', '白山': 'https://baishan.anjuke.com/community/p1/', '博尔塔拉': 'https://boertala.anjuke.com/community/p1/', '毕节': 'https://bijie.anjuke.com/community/p1/', '保山': 'https://baoshan.anjuke.com/community/p1/', '霸州': 'https://bazh.anjuke.com/community/p1/', '北票': 'https://beipiao.anjuke.com/community/p1/', '北流': 'https://beiliu.anjuke.com/community/p1/', '成都': 'https://chengdu.anjuke.com/community/p1/', '重庆': 'https://chongqing.anjuke.com/community/p1/', '长沙': 'https://cs.anjuke.com/community/p1/', '常州': 'https://cz.anjuke.com/community/p1/', '长春': 'https://cc.anjuke.com/community/p1/', '沧州': 'https://cangzhou.anjuke.com/community/p1/', '昌吉': 'https://changji.anjuke.com/community/p1/', '赤峰': 'https://chifeng.anjuke.com/community/p1/', '常德': 'https://changde.anjuke.com/community/p1/', '郴州': 'https://chenzhou.anjuke.com/community/p1/', '承德': 'https://chengde.anjuke.com/community/p1/', '长治': 'https://changzhi.anjuke.com/community/p1/', '池州': 'https://chizhou.anjuke.com/community/p1/', '滁州': 'https://chuzhou.anjuke.com/community/p1/', '朝阳': 'https://chaoyang.anjuke.com/community/p1/', '潮州': 'https://chaozhou.anjuke.com/community/p1/', '楚雄': 'https://chuxiong.anjuke.com/community/p1/', '巢湖': 'https://chaohu.anjuke.com/community/p1/', '昌都': 'https://changdu.anjuke.com/community/p1/', '长葛': 'https://changge.anjuke.com/community/p1/', '崇左': 'https://chongzuo.anjuke.com/community/p1/', '常熟': 'https://changshushi.anjuke.com/community/p1/', '赤壁': 'https://chibi.anjuke.com/community/p1/', '岑溪': 'https://cengxi.anjuke.com/community/p1/', '慈溪': 'https://cixi.anjuke.com/community/p1/', '崇州': 'https://chongzhou.anjuke.com/community/p1/', '大连': 'https://dalian.anjuke.com/community/p1/', '东莞': 'https://dg.anjuke.com/community/p1/', '德阳': 'https://deyang.anjuke.com/community/p1/', '大理': 'https://dali.anjuke.com/community/p1/', '德州': 'https://dezhou.anjuke.com/community/p1/', '东营': 'https://dongying.anjuke.com/community/p1/', '大庆': 'https://daqing.anjuke.com/community/p1/', '丹东': 'https://dandong.anjuke.com/community/p1/', '大同': 'https://datong.anjuke.com/community/p1/', '达州': 'https://dazhou.anjuke.com/community/p1/', '大丰': 'https://dafeng.anjuke.com/community/p1/', '德宏': 'https://dehong.anjuke.com/community/p1/', '定州': 'https://dingzhou.anjuke.com/community/p1/', '迪庆': 'https://diqing.anjuke.com/community/p1/', '定西': 'https://dingxi.anjuke.com/community/p1/', '大兴安岭': 'https://dxanling.anjuke.com/community/p1/', '东台': 'https://dongtai.anjuke.com/community/p1/', '邓州': 'https://dengzhou.anjuke.com/community/p1/', '东方': 'https://dongfang.anjuke.com/community/p1/', '儋州': 'https://danzhou.anjuke.com/community/p1/', '丹阳': 'https://danyang.anjuke.com/community/p1/', '灯塔': 'https://dengta.anjuke.com/community/p1/', '敦煌': 'https://dunhuang.anjuke.com/community/p1/', '大冶': 'https://daye.anjuke.com/community/p1/', '都匀': 'https://duyun.anjuke.com/community/p1/', '东阳': 'https://dongyang.anjuke.com/community/p1/', '都江堰': 'https://dujiangyan.anjuke.com/community/p1/', '鄂尔多斯': 'https://eerduosi.anjuke.com/community/p1/', '恩施': 'https://enshi.anjuke.com/community/p1/', '鄂州': 'https://ezhou.anjuke.com/community/p1/', '恩平': 'https://enping.anjuke.com/community/p1/', '峨眉山': 'https://emeishan.anjuke.com/community/p1/', '佛山': 'https://foshan.anjuke.com/community/p1/', '福州': 'https://fz.anjuke.com/community/p1/', '阜阳': 'https://fuyang.anjuke.com/community/p1/', '抚顺': 'https://fushun.anjuke.com/community/p1/', '阜新': 'https://fuxin.anjuke.com/community/p1/', '抚州': 'https://fuzhoushi.anjuke.com/community/p1/', '防城港': 'https://fangchenggang.anjuke.com/community/p1/', '肥城': 'https://feichengshi.anjuke.com/community/p1/', '丰城': 'https://fengchengshi.anjuke.com/community/p1/', '福清': 'https://fuqing.anjuke.com/community/p1/', '福安': 'https://fuan.anjuke.com/community/p1/', '福鼎': 'https://fuding.anjuke.com/community/p1/', '广州': 'https://guangzhou.anjuke.com/community/p1/', '贵阳': 'https://gy.anjuke.com/community/p1/', '桂林': 'https://guilin.anjuke.com/community/p1/', '赣州': 'https://ganzhou.anjuke.com/community/p1/', '广安': 'https://guangan.anjuke.com/community/p1/', '贵港': 'https://guigang.anjuke.com/community/p1/', '广元': 'https://guangyuan.anjuke.com/community/p1/', '甘孜': 'https://ganzi.anjuke.com/community/p1/', '甘南': 'https://gannan.anjuke.com/community/p1/', '馆陶': 'https://guantao.anjuke.com/community/p1/', '果洛': 'https://guoluo.anjuke.com/community/p1/', '固原': 'https://guyuan.anjuke.com/community/p1/', '公主岭': 'https://gongzhulingshi.anjuke.com/community/p1/', '高邮': 'https://yangzhou.anjuke.com/community/p1/', '高密': 'https://weifang.anjuke.com/community/p1/', '格尔木': 'https://geermu.anjuke.com/community/p1/', '广汉': 'https://guanghan.anjuke.com/community/p1/', '桂平': 'https://guiping.anjuke.com/community/p1/', '高安': 'https://gaoanshi.anjuke.com/community/p1/', '高碑店': 'https://gaobeidian.anjuke.com/community/p1/', '杭州': 'https://hangzhou.anjuke.com/community/p1/', '合肥': 'https://hf.anjuke.com/community/p1/', '哈尔滨': 'https://heb.anjuke.com/community/p1/', '海口': 'https://haikou.anjuke.com/community/p1/', '惠州': 'https://huizhou.anjuke.com/community/p1/', '邯郸': 'https://handan.anjuke.com/community/p1/', '呼和浩特': 'https://huhehaote.anjuke.com/community/p1/', '黄冈': 'https://huanggang.anjuke.com/community/p1/', '淮南': 'https://huainan.anjuke.com/community/p1/', '黄山': 'https://huangshan.anjuke.com/community/p1/', '鹤壁': 'https://hebi.anjuke.com/community/p1/', '衡阳': 'https://hengyang.anjuke.com/community/p1/', '湖州': 'https://huzhou.anjuke.com/community/p1/', '衡水': 'https://hengshui.anjuke.com/community/p1/', '汉中': 'https://hanzhong.anjuke.com/community/p1/', '淮安': 'https://huaian.anjuke.com/community/p1/', '黄石': 'https://huangshi.anjuke.com/community/p1/', '菏泽': 'https://heze.anjuke.com/community/p1/', '怀化': 'https://huaihua.anjuke.com/community/p1/', '淮北': 'https://huaibei.anjuke.com/community/p1/', '葫芦岛': 'https://huludao.anjuke.com/community/p1/', '河源': 'https://heyuan.anjuke.com/community/p1/', '红河': 'https://honghe.anjuke.com/community/p1/', '哈密': 'https://hami.anjuke.com/community/p1/', '鹤岗': 'https://hegang.anjuke.com/community/p1/', '呼伦贝尔': 'https://hulunbeier.anjuke.com/community/p1/', '海北': 'https://haibei.anjuke.com/community/p1/', '海东': 'https://haidong.anjuke.com/community/p1/', '海南': 'https://hainan.anjuke.com/community/p1/', '河池': 'https://hechi.anjuke.com/community/p1/', '黑河': 'https://heihe.anjuke.com/community/p1/', '和县': 'https://hexian.anjuke.com/community/p1/', '贺州': 'https://hezhou.anjuke.com/community/p1/', '海拉尔': 'https://hailaer.anjuke.com/community/p1/', '霍邱': 'https://huoqiu.anjuke.com/community/p1/', '和田': 'https://hetian.anjuke.com/community/p1/', '黄南': 'https://huangnan.anjuke.com/community/p1/', '海西': 'https://hexi.anjuke.com/community/p1/', '鹤山': 'https://heshan.anjuke.com/community/p1/', '海城': 'https://haicheng.anjuke.com/community/p1/', '黄骅': 'https://huanghua.anjuke.com/community/p1/', '河间': 'https://hejian.anjuke.com/community/p1/', '韩城': 'https://hancheng.anjuke.com/community/p1/', '汉川': 'https://hanchuan.anjuke.com/community/p1/', '海门': 'https://haimen.anjuke.com/community/p1/', '海宁': 'https://haining.anjuke.com/community/p1/', '海阳': 'https://haiyang.anjuke.com/community/p1/', '济南': 'https://jinan.anjuke.com/community/p1/', '嘉兴': 'https://jx.anjuke.com/community/p1/', '吉林': 'https://jilin.anjuke.com/community/p1/', '江门': 'https://jiangmen.anjuke.com/community/p1/', '荆门': 'https://jingmen.anjuke.com/community/p1/', '锦州': 'https://jinzhou.anjuke.com/community/p1/', '景德镇': 'https://jingdezhen.anjuke.com/community/p1/', '吉安': 'https://jian.anjuke.com/community/p1/', '济宁': 'https://jining.anjuke.com/community/p1/', '金华': 'https://jinhua.anjuke.com/community/p1/', '揭阳': 'https://jieyang.anjuke.com/community/p1/', '晋中': 'https://jinzhong.anjuke.com/community/p1/', '九江': 'https://jiujiang.anjuke.com/community/p1/', '焦作': 'https://jiaozuo.anjuke.com/community/p1/', '晋城': 'https://jincheng.anjuke.com/community/p1/', '荆州': 'https://jingzhou.anjuke.com/community/p1/', '佳木斯': 'https://jiamusi.anjuke.com/community/p1/', '酒泉': 'https://jiuquan.anjuke.com/community/p1/', '鸡西': 'https://jixi.anjuke.com/community/p1/', '济源': 'https://jiyuan.anjuke.com/community/p1/', '金昌': 'https://jinchang.anjuke.com/community/p1/', '嘉峪关': 'https://jiayuguan.anjuke.com/community/p1/', '江阴': 'https://jiangyin.anjuke.com/community/p1/', '靖江': 'https://jingjiang.anjuke.com/community/p1/', '简阳': 'https://jianyangshi.anjuke.com/community/p1/', '金坛': 'https://jintan.anjuke.com/community/p1/', '吉首': 'https://jishou.anjuke.com/community/p1/', '景洪': 'https://jinghong.anjuke.com/community/p1/', '晋江': 'https://jinjiangshi.anjuke.com/community/p1/', '建瓯': 'https://jianou.anjuke.com/community/p1/', '胶州': 'https://jiaozhoux.anjuke.com/community/p1/', '句容': 'https://jurong.anjuke.com/community/p1/', '江油市': 'https://jiangyoushi.anjuke.com/community/p1/', '昆明': 'https://km.anjuke.com/community/p1/', '昆山': 'https://ks.anjuke.com/community/p1/', '开封': 'https://kaifeng.anjuke.com/community/p1/', '喀什': 'https://kashi.anjuke.com/community/p1/', '克拉玛依': 'https://kelamayi.anjuke.com/community/p1/', '垦利': 'https://kenli.anjuke.com/community/p1/', '克孜勒苏': 'https://lezilesu.anjuke.com/community/p1/', '库尔勒': 'https://kuerle.anjuke.com/community/p1/', '凯里': 'https://kaili.anjuke.com/community/p1/', '开平': 'https://kaiping.anjuke.com/community/p1/', '兰州': 'https://lanzhou.anjuke.com/community/p1/', '廊坊': 'https://langfang.anjuke.com/community/p1/', '洛阳': 'https://luoyang.anjuke.com/community/p1/', '柳州': 'https://liuzhou.anjuke.com/community/p1/', '莱芜': 'https://laiwu.anjuke.com/community/p1/', '六安': 'https://luan.anjuke.com/community/p1/', '泸州': 'https://luzhou.anjuke.com/community/p1/', '丽江': 'https://lijiang.anjuke.com/community/p1/', '临沂': 'https://linyi.anjuke.com/community/p1/', '聊城': 'https://liaocheng.anjuke.com/community/p1/', '连云港': 'https://lianyungang.anjuke.com/community/p1/', '丽水': 'https://lishui.anjuke.com/community/p1/', '娄底': 'https://loudi.anjuke.com/community/p1/', '乐山': 'https://leshan.anjuke.com/community/p1/', '辽阳': 'https://liaoyang.anjuke.com/community/p1/', '拉萨': 'https://lasa.anjuke.com/community/p1/', '临汾': 'https://linfen.anjuke.com/community/p1/', '龙岩': 'https://longyan.anjuke.com/community/p1/', '漯河': 'https://luohe.anjuke.com/community/p1/', '凉山': 'https://liangshan.anjuke.com/community/p1/', '六盘水': 'https://liupanshui.anjuke.com/community/p1/', '辽源': 'https://liaoyuan.anjuke.com/community/p1/', '来宾': 'https://laibin.anjuke.com/community/p1/', '临沧': 'https://lingcang.anjuke.com/community/p1/', '临夏': 'https://linxia.anjuke.com/community/p1/', '临猗': 'https://linyishi.anjuke.com/community/p1/', '林芝': 'https://linzhi.anjuke.com/community/p1/', '陇南': 'https://longnan.anjuke.com/community/p1/', '吕梁': 'https://lvliang.anjuke.com/community/p1/', '临海': 'https://linhaishi.anjuke.com/community/p1/', '龙海': 'https://longhaishi.anjuke.com/community/p1/', '醴陵': 'https://lilingshi.anjuke.com/community/p1/', '临清': 'https://linqing.anjuke.com/community/p1/', '龙口': 'https://yt.anjuke.com/community/p1/', '莱阳': 'https://yt.anjuke.com/community/p1/', '耒阳': 'https://leiyang.anjuke.com/community/p1/', '溧阳': 'https://cz.anjuke.com/community/p1/', '凌源': 'https://lingyuan.anjuke.com/community/p1/', '灵宝': 'https://lingbao.anjuke.com/community/p1/', '冷水江': 'https://lengshuijiang.anjuke.com/community/p1/', '涟源': 'https://lianyuan.anjuke.com/community/p1/', '陆丰': 'https://lufengshi.anjuke.com/community/p1/', '罗定': 'https://luoding.anjuke.com/community/p1/', '乐平': 'https://leping.anjuke.com/community/p1/', '莱州': 'https://laizhoushi.anjuke.com/community/p1/', '莱西': 'https://laixi.anjuke.com/community/p1/', '绵阳': 'https://mianyang.anjuke.com/community/p1/', '茂名': 'https://maoming.anjuke.com/community/p1/', '马鞍山': 'https://maanshan.anjuke.com/community/p1/', '牡丹江': 'https://mudanjiang.anjuke.com/community/p1/', '眉山': 'https://meishan.anjuke.com/community/p1/', '梅州': 'https://meizhou.anjuke.com/community/p1/', '明港': 'https://minggang.anjuke.com/community/p1/', '梅河口': 'https://meihekou.anjuke.com/community/p1/', '南京': 'https://nanjing.anjuke.com/community/p1/', '宁波': 'https://nb.anjuke.com/community/p1/', '南昌': 'https://nc.anjuke.com/community/p1/', '南宁': 'https://nanning.anjuke.com/community/p1/', '南通': 'https://nantong.anjuke.com/community/p1/', '南充': 'https://nanchong.anjuke.com/community/p1/', '南阳': 'https://nanyang.anjuke.com/community/p1/', '宁德': 'https://ningde.anjuke.com/community/p1/', '内江': 'https://neijiang.anjuke.com/community/p1/', '南平': 'https://nanping.anjuke.com/community/p1/', '那曲': 'https://naqu.anjuke.com/community/p1/', '怒江': 'https://nujiang.anjuke.com/community/p1/', '南安': 'https://nananshi.anjuke.com/community/p1/', '宁国': 'https://xuancheng.anjuke.com/community/p1/', '攀枝花': 'https://panzhihua.anjuke.com/community/p1/', '平顶山': 'https://pingdingsha.anjuke.com/community/p1/', '盘锦': 'https://panjin.anjuke.com/community/p1/', '萍乡': 'https://pingxiang.anjuke.com/community/p1/', '濮阳': 'https://puyang.anjuke.com/community/p1/', '莆田': 'https://putian.anjuke.com/community/p1/', '普洱': 'https://puer.anjuke.com/community/p1/', '平凉': 'https://pingliang.anjuke.com/community/p1/', '普宁': 'https://puning.anjuke.com/community/p1/', '邳州': 'https://pizhou.anjuke.com/community/p1/', '蓬莱': 'https://penglaishi.anjuke.com/community/p1/', '平湖': 'https://pinghu.anjuke.com/community/p1/', '平度': 'https://pingdu.anjuke.com/community/p1/', '彭州': 'https://pengzhou.anjuke.com/community/p1/', '青岛': 'https://qd.anjuke.com/community/p1/', '秦皇岛': 'https://qinhuangdao.anjuke.com/community/p1/', '泉州': 'https://quanzhou.anjuke.com/community/p1/', '曲靖': 'https://qujing.anjuke.com/community/p1/', '齐齐哈尔': 'https://qiqihaer.anjuke.com/community/p1/', '衢州': 'https://quzhou.anjuke.com/community/p1/', '清远': 'https://qingyuan.anjuke.com/community/p1/', '钦州': 'https://qinzhou.anjuke.com/community/p1/', '庆阳': 'https://qingyang.anjuke.com/community/p1/', '黔东南': 'https://qiandongnan.anjuke.com/community/p1/', '潜江': 'https://qianjiang.anjuke.com/community/p1/', '清徐': 'https://qingxu.anjuke.com/community/p1/', '黔南': 'https://qiannan.anjuke.com/community/p1/', '七台河': 'https://qitaihe.anjuke.com/community/p1/', '黔西南': 'https://qianxinan.anjuke.com/community/p1/', '迁安': 'https://qiananshi.anjuke.com/community/p1/', '青州': 'https://weifang.anjuke.com/community/p1/', '清镇': 'https://gy.anjuke.com/community/p1/', '琼海': 'https://sanya.anjuke.com/community/p1/', '沁阳': 'https://qinyangshi.anjuke.com/community/p1/', '曲阜': 'https://qufu.anjuke.com/community/p1/', '启东': 'https://nantong.anjuke.com/community/p1/', '日照': 'https://rizhao.anjuke.com/community/p1/', '日喀则': 'https://rikeze.anjuke.com/community/p1/', '瑞安': 'https://ruian.anjuke.com/community/p1/', '汝州': 'https://ruzhoushi.anjuke.com/community/p1/', '任丘': 'https://renqiushi.anjuke.com/community/p1/', '瑞金': 'https://ruijin.anjuke.com/community/p1/', '乳山': 'https://rushan.anjuke.com/community/p1/', '仁怀': 'https://renhuai.anjuke.com/community/p1/', '瑞丽': 'https://ruili.anjuke.com/community/p1/', '如皋': 'https://rugao.anjuke.com/community/p1/', '荣成市': 'https://rongchengshi.anjuke.com/community/p1/', '上海': 'https://shanghai.anjuke.com/community/p1/', '深圳': 'https://shenzhen.anjuke.com/community/p1/', '苏州': 'https://suzhou.anjuke.com/community/p1/', '石家庄': 'https://sjz.anjuke.com/community/p1/', '沈阳': 'https://sy.anjuke.com/community/p1/', '三亚': 'https://sanya.anjuke.com/community/p1/', '绍兴': 'https://shaoxing.anjuke.com/community/p1/', '汕头': 'https://shantou.anjuke.com/community/p1/', '十堰': 'https://shiyan.anjuke.com/community/p1/', '三门峡': 'https://sanmenxia.anjuke.com/community/p1/', '三明': 'https://sanming.anjuke.com/community/p1/', '韶关': 'https://shaoguan.anjuke.com/community/p1/', '商丘': 'https://shangqiu.anjuke.com/community/p1/', '宿迁': 'https://suqian.anjuke.com/community/p1/', '绥化': 'https://suihua.anjuke.com/community/p1/', '邵阳': 'https://shaoyang.anjuke.com/community/p1/', '遂宁': 'https://suining.anjuke.com/community/p1/', '上饶': 'https://shangrao.anjuke.com/community/p1/', '四平': 'https://siping.anjuke.com/community/p1/', '石河子': 'https://shihezi.anjuke.com/community/p1/', '顺德': 'https://shunde.anjuke.com/community/p1/', '宿州': 'https://suzhoushi.anjuke.com/community/p1/', '松原': 'https://songyuan.anjuke.com/community/p1/', '沭阳': 'https://shuyang.anjuke.com/community/p1/', '石嘴山': 'https://shizuishan.anjuke.com/community/p1/', '随州': 'https://suizhou.anjuke.com/community/p1/', '朔州': 'https://shuozhou.anjuke.com/community/p1/', '汕尾': 'https://shanwei.anjuke.com/community/p1/', '三沙': 'https://sansha.anjuke.com/community/p1/', '商洛': 'https://shangluo.anjuke.com/community/p1/', '山南': 'https://shannan.anjuke.com/community/p1/', '神农架': 'https://shennongjia.anjuke.com/community/p1/', '双鸭山': 'https://shuangyashan.anjuke.com/community/p1/', '石狮': 'https://shishi.anjuke.com/community/p1/', '三河': 'https://sanheshi.anjuke.com/community/p1/', '寿光': 'https://weifang.anjuke.com/community/p1/', '嵊州': 'https://shengzhou.anjuke.com/community/p1/', '四会': 'https://sihui.anjuke.com/community/p1/', '邵武': 'https://shaowu.anjuke.com/community/p1/', '松滋': 'https://songzi.anjuke.com/community/p1/', '天津': 'https://tianjin.anjuke.com/community/p1/', '太原': 'https://ty.anjuke.com/community/p1/', '泰州': 'https://taizhou.anjuke.com/community/p1/', '唐山': 'https://tangshan.anjuke.com/community/p1/', '泰安': 'https://taian.anjuke.com/community/p1/', '台州': 'https://taiz.anjuke.com/community/p1/', '铁岭': 'https://tieling.anjuke.com/community/p1/', '通辽': 'https://tongliao.anjuke.com/community/p1/', '铜陵': 'https://tongling.anjuke.com/community/p1/', '天水': 'https://tianshui.anjuke.com/community/p1/', '通化': 'https://tonghua.anjuke.com/community/p1/', '台山': 'https://taishan.anjuke.com/community/p1/', '铜川': 'https://tongchuan.anjuke.com/community/p1/', '吐鲁番': 'https://tulufan.anjuke.com/community/p1/', '天门': 'https://tianmen.anjuke.com/community/p1/', '图木舒克': 'https://tumushuke.anjuke.com/community/p1/', '桐城': 'https://tongcheng.anjuke.com/community/p1/', '铜仁': 'https://tongren.anjuke.com/community/p1/', '台湾': 'https://taiwan.anjuke.com/community/p1/', '太仓': 'https://taicang.anjuke.com/community/p1/', '泰兴': 'https://taixing.anjuke.com/community/p1/', '滕州': 'https://tengzhoushi.anjuke.com/community/p1/', '桐乡': 'https://tongxiang.anjuke.com/community/p1/', '天长': 'https://tianchang.anjuke.com/community/p1/', '武汉': 'https://wuhan.anjuke.com/community/p1/', '无锡': 'https://wuxi.anjuke.com/community/p1/', '威海': 'https://weihai.anjuke.com/community/p1/', '潍坊': 'https://weifang.anjuke.com/community/p1/', '乌鲁木齐': 'https://wulumuqi.anjuke.com/community/p1/', '温州': 'https://wenzhou.anjuke.com/community/p1/', '芜湖': 'https://wuhu.anjuke.com/community/p1/', '梧州': 'https://wuzhou.anjuke.com/community/p1/', '渭南': 'https://weinan.anjuke.com/community/p1/', '乌海': 'https://wuhai.anjuke.com/community/p1/', '文山': 'https://wenshan.anjuke.com/community/p1/', '武威': 'https://wuwei.anjuke.com/community/p1/', '乌兰察布': 'https://wulanchabu.anjuke.com/community/p1/', '瓦房店': 'https://wafangdian.anjuke.com/community/p1/', '五家渠': 'https://wujiaqu.anjuke.com/community/p1/', '武夷山': 'https://wuyishan.anjuke.com/community/p1/', '吴忠': 'https://wuzhong.anjuke.com/community/p1/', '五指山': 'https://wuzhishan.anjuke.com/community/p1/', '温岭': 'https://wnelingshi.anjuke.com/community/p1/', '武安': 'https://wuanshi.anjuke.com/community/p1/', '文昌': 'https://wenchang.anjuke.com/community/p1/', '乌兰浩特': 'https://wulanhaote.anjuke.com/community/p1/', '武穴': 'https://wuxue.anjuke.com/community/p1/', '万宁': 'https://wanning.anjuke.com/community/p1/', '西安': 'https://xa.anjuke.com/community/p1/', '厦门': 'https://xm.anjuke.com/community/p1/', '徐州': 'https://xuzhou.anjuke.com/community/p1/', '湘潭': 'https://xiangtan.anjuke.com/community/p1/', '襄阳': 'https://xiangyang.anjuke.com/community/p1/', '新乡': 'https://xinxiang.anjuke.com/community/p1/', '信阳': 'https://xinyang.anjuke.com/community/p1/', '咸阳': 'https://xianyang.anjuke.com/community/p1/', '邢台': 'https://xingtai.anjuke.com/community/p1/', '孝感': 'https://xiaogan.anjuke.com/community/p1/', '西宁': 'https://xining.anjuke.com/community/p1/', '许昌': 'https://xuchang.anjuke.com/community/p1/', '忻州': 'https://xinzhou.anjuke.com/community/p1/', '宣城': 'https://xuancheng.anjuke.com/community/p1/', '咸宁': 'https://xianning.anjuke.com/community/p1/', '兴安盟': 'https://xinganmeng.anjuke.com/community/p1/', '新余': 'https://xinyu.anjuke.com/community/p1/', '西双版纳': 'https://bannan.anjuke.com/community/p1/', '香港': 'https://xianggang.anjuke.com/community/p1/', '湘西': 'https://xiangxi.anjuke.com/community/p1/', '仙桃': 'https://xiantao.anjuke.com/community/p1/', '锡林郭勒盟': 'https://xilinguole.anjuke.com/community/p1/', '新泰': 'https://xintaishi.anjuke.com/community/p1/', '湘乡': 'https://xiangxiang.anjuke.com/community/p1/', '兴化': 'https://taizhou.anjuke.com/community/p1/', '兴义': 'https://xingyi.anjuke.com/community/p1/', '宣威': 'https://xuanwei.anjuke.com/community/p1/', '项城': 'https://xiangcheng.anjuke.com/community/p1/', '兴城': 'https://xingcheng.anjuke.com/community/p1/', '新沂': 'https://xinyishi.anjuke.com/community/p1/', '荥阳': 'https://xingyang.anjuke.com/community/p1/', '新密': 'https://xinmi.anjuke.com/community/p1/', '烟台': 'https://yt.anjuke.com/community/p1/', '扬州': 'https://yangzhou.anjuke.com/community/p1/', '宜昌': 'https://yichang.anjuke.com/community/p1/', '银川': 'https://yinchuan.anjuke.com/community/p1/', '阳江': 'https://yangjiang.anjuke.com/community/p1/', '永州': 'https://yongzhou.anjuke.com/community/p1/', '玉林': 'https://yulinshi.anjuke.com/community/p1/', '盐城': 'https://yancheng.anjuke.com/community/p1/', '岳阳': 'https://yueyang.anjuke.com/community/p1/', '运城': 'https://yuncheng.anjuke.com/community/p1/', '宜春': 'https://yichun.anjuke.com/community/p1/', '营口': 'https://yingkou.anjuke.com/community/p1/', '榆林': 'https://yulin.anjuke.com/community/p1/', '宜宾': 'https://yibin.anjuke.com/community/p1/', '益阳': 'https://yiyang.anjuke.com/community/p1/', '义乌': 'https://yiwu.anjuke.com/community/p1/', '玉溪': 'https://yuxi.anjuke.com/community/p1/', '伊犁': 'https://yili.anjuke.com/community/p1/', '阳泉': 'https://yangquan.anjuke.com/community/p1/', '延安': 'https://yanan.anjuke.com/community/p1/', '鹰潭': 'https://yingtan.anjuke.com/community/p1/', '延边': 'https://yanbian.anjuke.com/community/p1/', '云浮': 'https://yufu.anjuke.com/community/p1/', '雅安': 'https://yaan.anjuke.com/community/p1/', '阳春': 'https://yangchun.anjuke.com/community/p1/', '鄢陵': 'https://yanling.anjuke.com/community/p1/', '伊春': 'https://yichunshi.anjuke.com/community/p1/', '玉树': 'https://yushu.anjuke.com/community/p1/', '乐清': 'https://yueqing.anjuke.com/community/p1/', '禹州': 'https://yuzhou.anjuke.com/community/p1/', '永新': 'https://yongxin.anjuke.com/community/p1/', '永康': 'https://yongkangshi.anjuke.com/community/p1/', '宜都': 'https://yichang.anjuke.com/community/p1/', '仪征': 'https://yangzhou.anjuke.com/community/p1/', '延吉': 'https://yanji.anjuke.com/community/p1/', '扬中': 'https://yangzhong.anjuke.com/community/p1/', '伊宁': 'https://yining.anjuke.com/community/p1/', '英德': 'https://yingde.anjuke.com/community/p1/', '余姚': 'https://yuyao.anjuke.com/community/p1/', '偃师': 'https://yanshishi.anjuke.com/community/p1/', '宜兴': 'https://yixing.anjuke.com/community/p1/', '郑州': 'https://zhengzhou.anjuke.com/community/p1/', '珠海': 'https://zh.anjuke.com/community/p1/', '中山': 'https://zs.anjuke.com/community/p1/', '镇江': 'https://zhenjiang.anjuke.com/community/p1/', '淄博': 'https://zibo.anjuke.com/community/p1/', '张家口': 'https://zhangjiakou.anjuke.com/community/p1/', '株洲': 'https://zhuzhou.anjuke.com/community/p1/', '漳州': 'https://zhangzhou.anjuke.com/community/p1/', '湛江': 'https://zhanjiang.anjuke.com/community/p1/', '肇庆': 'https://zhaoqing.anjuke.com/community/p1/', '枣庄': 'https://zaozhuang.anjuke.com/community/p1/', '舟山': 'https://zhoushan.anjuke.com/community/p1/', '遵义': 'https://zunyi.anjuke.com/community/p1/', '驻马店': 'https://zhumadian.anjuke.com/community/p1/', '自贡': 'https://zigong.anjuke.com/community/p1/', '资阳': 'https://ziyang.anjuke.com/community/p1/', '周口': 'https://zhoukou.anjuke.com/community/p1/', '章丘': 'https://zhangqiu.anjuke.com/community/p1/', '张家界': 'https://zhangjiajie.anjuke.com/community/p1/', '诸城': 'https://zhucheng.anjuke.com/community/p1/', '庄河': 'https://zhuanghe.anjuke.com/community/p1/', '正定': 'https://zhengding.anjuke.com/community/p1/', '张北': 'https://zhangbei.anjuke.com/community/p1/', '张掖': 'https://zhangye.anjuke.com/community/p1/', '昭通': 'https://zhaotong.anjuke.com/community/p1/', '中卫': 'https://weizhong.anjuke.com/community/p1/', '赵县': 'https://zhaoxian.anjuke.com/community/p1/', '邹城': 'https://zouchengshi.anjuke.com/community/p1/', '遵化': 'https://zunhua.anjuke.com/community/p1/', '张家港': 'https://zhangjiagang.anjuke.com/community/p1/', '枝江': 'https://yichang.anjuke.com/community/p1/', '招远': 'https://yt.anjuke.com/community/p1/', '资兴': 'https://zixing.anjuke.com/community/p1/', '樟树': 'https://zhangshu.anjuke.com/community/p1/', '诸暨': 'https://zhuji.anjuke.com/community/p1/', '涿州': 'https://zhuozhoushi.anjuke.com/community/p1/', '枣阳': 'https://zaoyangshi.anjuke.com/community/p1/', '阿坝州': 'https://chengdu.anjuke.com/community/p1/', '大邑': 'https://chengdu.anjuke.com/community/p1/', '金堂': 'https://chengdu.anjuke.com/community/p1/', '栖霞': 'https://nanjing.anjuke.com/community/p1/', '淳安': 'https://hangzhou.anjuke.com/community/p1/', '富阳': 'https://hangzhou.anjuke.com/community/p1/', '临安': 'https://hangzhou.anjuke.com/community/p1/', '桐庐': 'https://hangzhou.anjuke.com/community/p1/', '铜梁': 'https://chongqing.anjuke.com/community/p1/', '丰都': 'https://chongqing.anjuke.com/community/p1/', '长寿': 'https://chongqing.anjuke.com/community/p1/', '涪陵': 'https://chongqing.anjuke.com/community/p1/', '南川': 'https://chongqing.anjuke.com/community/p1/', '永川': 'https://chongqing.anjuke.com/community/p1/', '綦江': 'https://chongqing.anjuke.com/community/p1/', '黔江': 'https://chongqing.anjuke.com/community/p1/', '万州': 'https://chongqing.anjuke.com/community/p1/', '江津': 'https://chongqing.anjuke.com/community/p1/', '合川': 'https://chongqing.anjuke.com/community/p1/', '普兰店': 'https://dalian.anjuke.com/community/p1/', '平阴': 'https://jinan.anjuke.com/community/p1/', '济阳': 'https://jinan.anjuke.com/community/p1/', '商河': 'https://jinan.anjuke.com/community/p1/', '中牟': 'https://zhengzhou.anjuke.com/community/p1/', '巩义': 'https://zhengzhou.anjuke.com/community/p1/', '宁乡': 'https://cs.anjuke.com/community/p1/', '无极': 'https://sjz.anjuke.com/community/p1/', '辛集': 'https://sjz.anjuke.com/community/p1/', '元氏': 'https://sjz.anjuke.com/community/p1/', '即墨': 'https://qd.anjuke.com/community/p1/', '胶南': 'https://qd.anjuke.com/community/p1/', '周至': 'https://xa.anjuke.com/community/p1/', '户县': 'https://xa.anjuke.com/community/p1/', '蓝田': 'https://xa.anjuke.com/community/p1/', '宁海': 'https://nb.anjuke.com/community/p1/', '象山': 'https://nb.anjuke.com/community/p1/', '肥东': 'https://hf.anjuke.com/community/p1/', '肥西': 'https://hf.anjuke.com/community/p1/', '庐江': 'https://hf.anjuke.com/community/p1/', '长丰': 'https://hf.anjuke.com/community/p1/', '长乐': 'https://fz.anjuke.com/community/p1/', '连江': 'https://fz.anjuke.com/community/p1/', '平潭': 'https://fz.anjuke.com/community/p1/', '宜良': 'https://km.anjuke.com/community/p1/', '辽中': 'https://sy.anjuke.com/community/p1/', '新民': 'https://sy.anjuke.com/community/p1/', '进贤': 'https://nc.anjuke.com/community/p1/', '新建': 'https://nc.anjuke.com/community/p1/', '嘉善': 'https://jx.anjuke.com/community/p1/', '白沙县': 'https://haikou.anjuke.com/community/p1/', '儋州市': 'https://haikou.anjuke.com/community/p1/', '澄迈县': 'https://haikou.anjuke.com/community/p1/', '定安': 'https://haikou.anjuke.com/community/p1/', '琼中': 'https://haikou.anjuke.com/community/p1/', '屯昌': 'https://haikou.anjuke.com/community/p1/', '文昌市': 'https://haikou.anjuke.com/community/p1/', '农安': 'https://cc.anjuke.com/community/p1/', '陵水': 'https://sanya.anjuke.com/community/p1/', '保亭': 'https://sanya.anjuke.com/community/p1/', '东方市': 'https://sanya.anjuke.com/community/p1/', '博罗': 'https://huizhou.anjuke.com/community/p1/', '惠东': 'https://huizhou.anjuke.com/community/p1/', '龙门': 'https://huizhou.anjuke.com/community/p1/', '昌邑': 'https://jilin.anjuke.com/community/p1/', '永登': 'https://lanzhou.anjuke.com/community/p1/', '榆中': 'https://lanzhou.anjuke.com/community/p1/', '文安': 'https://langfang.anjuke.com/community/p1/', '孟津': 'https://luoyang.anjuke.com/community/p1/', '汝阳': 'https://luoyang.anjuke.com/community/p1/', '新安': 'https://luoyang.anjuke.com/community/p1/', '伊川': 'https://luoyang.anjuke.com/community/p1/', '宜阳': 'https://luoyang.anjuke.com/community/p1/', '宾阳': 'https://nanning.anjuke.com/community/p1/', '横县': 'https://nanning.anjuke.com/community/p1/', '海安': 'https://nantong.anjuke.com/community/p1/', '如东': 'https://nantong.anjuke.com/community/p1/', '安溪': 'https://quanzhou.anjuke.com/community/p1/', '惠安': 'https://quanzhou.anjuke.com/community/p1/', '永春': 'https://quanzhou.anjuke.com/community/p1/', '晋安': 'https://quanzhou.anjuke.com/community/p1/', '上虞': 'https://shaoxing.anjuke.com/community/p1/', '乐亭': 'https://tangshan.anjuke.com/community/p1/', '滦南': 'https://tangshan.anjuke.com/community/p1/', '滦县': 'https://tangshan.anjuke.com/community/p1/', '迁西': 'https://tangshan.anjuke.com/community/p1/', '玉田': 'https://tangshan.anjuke.com/community/p1/', '昌乐': 'https://weifang.anjuke.com/community/p1/', '丰县': 'https://xuzhou.anjuke.com/community/p1/', '沛县': 'https://xuzhou.anjuke.com/community/p1/', '睢宁': 'https://xuzhou.anjuke.com/community/p1/', '宝应': 'https://yangzhou.anjuke.com/community/p1/', '江都': 'https://yangzhou.anjuke.com/community/p1/', '当阳': 'https://yichang.anjuke.com/community/p1/', '丹阳市': 'https://zhenjiang.anjuke.com/community/p1/', '扬中市': 'https://zhenjiang.anjuke.com/community/p1/', '邹平': 'https://binzhou.anjuke.com/community/p1/', '广饶': 'https://dongying.anjuke.com/community/p1/', '玉环': 'https://taiz.anjuke.com/community/p1/', '肇源': 'https://daqing.anjuke.com/community/p1/', '东海': 'https://lianyungang.anjuke.com/community/p1/', '德清': 'https://huzhou.anjuke.com/community/p1/', '长兴': 'https://huzhou.anjuke.com/community/p1/', '建湖': 'https://yancheng.anjuke.com/community/p1/', '当涂': 'https://maanshan.anjuke.com/community/p1/', '巴州': 'https://bazhong.anjuke.com/community/p1/'}
    start_urls = [cityDataSource[targetCity]]
    USER_AGENT_LIST = [
        'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.100 Safari/537.36',
        'Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.87 Safari/537.36'
    ]
    custom_settings = {
        "USER_AGENT": random.choice(USER_AGENT_LIST),
        'ITEM_PIPELINES': {'paFJ.pipelines.PafjPipeline': 300}
    }
    def parse(self, response):
        # 获取 【哈尔滨】
        city = response.xpath('//div[@class="sortby"]/span[@class="tit"]/em/text()').extract()[0]  # 使用xpath从response中获取需要的html块
        print('获取的城市是%s' %city)
        # item['city'] = city
        div_item_list = response.xpath('//div[@class="li-itemmod"]')  # 使用xpath从response中获取需要的html块
        for div in div_item_list:
            name = div.xpath('./div[@class="li-info"]/h3/a/text()').extract_first()  # 名字
            money = div.xpath('./div[@class="li-side"]/p[1]/strong/text()').extract_first(default='暂无均价') # 钱
            trend = div.xpath('./div[@class="li-side"]/p[2]/text()').extract_first() # 趋势
            # photo = div.xpath('./a[@class="img"]/img/@src').extract() # 图片
            item = PafjItem()
            item['name'] = name
            item['money'] = money
            item['trend'] = trend
            # item['photo'] = photo
            item['city'] = city
            yield item
            # print('获取的城市是%s,小区名%s,房价%s,图片%s,趋势%s' % (city,name,money,photo,trend))
        next_ = response.xpath('//a[@class="aNxt"]/@href').extract_first()  # 获取下一页的链接
        if next_ :
           yield response.follow(url=next_, callback=self.parse) # 将下一页的链接加入爬取队列~~
